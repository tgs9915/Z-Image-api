# Z-Image Next.js å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨ (3 åˆ†é’Ÿ)

### 1. å…‹éš†/è¿›å…¥é¡¹ç›®ç›®å½•

```bash
cd e:/z-image
```

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œä½¿ç”¨ï¼š
```powershell
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
npm install
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

åˆ›å»º `.env.local` æ–‡ä»¶ï¼š

```bash
# Windows PowerShell
Copy-Item .env.example .env.local
```

æˆ–æ‰‹åŠ¨åˆ›å»º `.env.local` å¹¶æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```bash
# JWT å¯†é’¥
JWT_SECRET=my-secret-key-change-this-in-production

# æ§åˆ¶å°ç™»å½•
CONSOLE_USERNAME=admin
CONSOLE_PASSWORD=admin123

# API å¯†é’¥ (å¯é€‰ï¼Œç•™ç©ºåˆ™ä¸éªŒè¯)
API_KEYS=sk-test-key-001

# å…¬å¼€ URL
NEXT_PUBLIC_BASE_URL=http://localhost:3000

# Z-Image API
ZIMAGE_API_URL=https://mrfakename-z-image-turbo.hf.space

# ä»£ç†æ± é…ç½®
PROXY_POOL_ENABLED=true
PROXY_POOL_MAX_DAILY=5
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

### 5. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®:
- æ§åˆ¶å°: http://localhost:3000
- ç™»å½•ä½¿ç”¨: `admin / admin123`

## ğŸ“ æ³¨æ„äº‹é¡¹

### æœ¬åœ°å¼€å‘é™åˆ¶

âš ï¸ **é‡è¦**: ç”±äºæœ¬åœ°å¼€å‘ç¯å¢ƒæ²¡æœ‰ Vercel KV å’Œ Blobï¼Œä»¥ä¸‹åŠŸèƒ½ä¼šå—é™ï¼š

1. **æ— æ³•æŒä¹…åŒ–æ•°æ®**: 
   - ä»£ç†æ± æ•°æ®
   - æ¨¡å‹é…ç½®
   - ç”Ÿæˆå†å²
   - ç³»ç»Ÿè®¾ç½®

2. **æ— æ³•å­˜å‚¨å›¾ç‰‡**:
   - ç”Ÿæˆçš„å›¾ç‰‡æ— æ³•ä¿å­˜åˆ° Blob
   - éœ€è¦é…ç½® Vercel Blob æ‰èƒ½æ­£å¸¸å·¥ä½œ

### è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆ 1: æ¨¡æ‹Ÿå­˜å‚¨ (æ¨èæœ¬åœ°æµ‹è¯•)

åˆ›å»º mock æ•°æ®æ–‡ä»¶ï¼Œä¸´æ—¶æ›¿ä»£ KV/Blob (éœ€è¦ä¿®æ”¹ä»£ç )

#### æ–¹æ¡ˆ 2: è¿æ¥ Vercel å¼€å‘ç¯å¢ƒ

```bash
# å®‰è£… Vercel CLI
npm i -g vercel

# é“¾æ¥é¡¹ç›®
vercel link

# æ‹‰å–ç¯å¢ƒå˜é‡
vercel env pull .env.local

# å¯åŠ¨å¼€å‘
vercel dev
```

è¿™æ ·å¯ä»¥ä½¿ç”¨ Vercel çš„ KV å’Œ Blob æœåŠ¡ã€‚

#### æ–¹æ¡ˆ 3: ç›´æ¥éƒ¨ç½²åˆ° Vercel (æ¨è)

è·³è¿‡æœ¬åœ°æµ‹è¯•ï¼Œç›´æ¥éƒ¨ç½²åˆ° Vercelï¼š

```bash
# åˆå§‹åŒ– git
git init
git add .
git commit -m "Initial commit"

# æ¨é€åˆ° GitHub
# ç„¶ååœ¨ Vercel Dashboard å¯¼å…¥é¡¹ç›®
```

å‚è€ƒ `DEPLOY.md` è·å–è¯¦ç»†éƒ¨ç½²æ­¥éª¤ã€‚

## ğŸ§ª æµ‹è¯• API

### æ–¹å¼ 1: cURL

```bash
# è·å–æ¨¡å‹åˆ—è¡¨
curl http://localhost:3000/api/v1/models \
  -H "Authorization: Bearer sk-test-key-001"

# ç”Ÿæˆå›¾ç‰‡ (æµå¼)
curl http://localhost:3000/api/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer sk-test-key-001" \
  -d '{
    "model": "Z-Image",
    "messages": [{"role": "user", "content": "ä¸€åªå¯çˆ±çš„çŒ«å’ª"}],
    "stream": true
  }'
```

### æ–¹å¼ 2: Postman

1. å¯¼å…¥ API é›†åˆ (å¦‚æœæœ‰)
2. è®¾ç½® Authorization: Bearer Token
3. æµ‹è¯•å„ä¸ªç«¯ç‚¹

### æ–¹å¼ 3: ä½¿ç”¨ç°æœ‰å®¢æˆ·ç«¯

ä»»ä½•æ”¯æŒ OpenAI API çš„å®¢æˆ·ç«¯éƒ½å¯ä»¥ä½¿ç”¨ï¼Œåªéœ€ä¿®æ”¹ï¼š
- Base URL: `http://localhost:3000`
- API Key: `sk-test-key-001`

## ğŸ› å¸¸è§é—®é¢˜

### Q1: `npm install` å¤±è´¥

**é”™è¯¯**: PowerShell è„šæœ¬æ‰§è¡Œç­–ç•¥

**è§£å†³**:
```powershell
Set-ExecutionPolicy -Scope Process -ExecutionPolicy Bypass
```

### Q2: ç«¯å£ 3000 è¢«å ç”¨

**è§£å†³**:
```bash
# ä½¿ç”¨å…¶ä»–ç«¯å£
PORT=3001 npm run dev
```

æˆ–åœ¨ `package.json` ä¸­ä¿®æ”¹ dev è„šæœ¬ï¼š
```json
"dev": "next dev -p 3001"
```

### Q3: TypeScript æŠ¥é”™

**æ­£å¸¸ç°è±¡**: æœªå®‰è£…ä¾èµ–å‰ä¼šæœ‰å¾ˆå¤š TS é”™è¯¯

**è§£å†³**: è¿è¡Œ `npm install` åä¼šæ¶ˆå¤±

### Q4: API è°ƒç”¨å¤±è´¥

**æ£€æŸ¥**:
1. æ˜¯å¦é…ç½®äº† API_KEYS
2. Authorization å¤´æ˜¯å¦æ­£ç¡®
3. Content-Type æ˜¯å¦ä¸º application/json

### Q5: é¡µé¢ç©ºç™½

**æ£€æŸ¥**:
1. æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
2. ç»ˆç«¯æ˜¯å¦æœ‰æŠ¥é”™
3. å°è¯•æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## ğŸ“ é¡¹ç›®ç»“æ„é€ŸæŸ¥

```
z-image/
â”œâ”€â”€ app/                  # Next.js åº”ç”¨
â”‚   â”œâ”€â”€ api/             # API è·¯ç”± (Serverless Functions)
â”‚   â”œâ”€â”€ dashboard/       # æ§åˆ¶å°é¡µé¢
â”‚   â”œâ”€â”€ page.tsx         # ç™»å½•é¡µ
â”‚   â””â”€â”€ globals.css      # å…¨å±€æ ·å¼
â”œâ”€â”€ lib/                 # å·¥å…·åº“
â”‚   â”œâ”€â”€ auth.ts          # è®¤è¯
â”‚   â”œâ”€â”€ config.ts        # é…ç½®
â”‚   â”œâ”€â”€ zimage.ts        # Z-Image API
â”‚   â””â”€â”€ ...
â”œâ”€â”€ .env.local           # ç¯å¢ƒå˜é‡ (éœ€åˆ›å»º)
â”œâ”€â”€ package.json         # ä¾èµ–é…ç½®
â””â”€â”€ README.md            # é¡¹ç›®æ–‡æ¡£
```

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start

# ä»£ç æ£€æŸ¥
npm run lint
```

## ğŸ“š ä¸‹ä¸€æ­¥

1. âœ… å®Œæˆæœ¬åœ°ç¯å¢ƒé…ç½®
2. ğŸ“– é˜…è¯» `README.md` äº†è§£å®Œæ•´åŠŸèƒ½
3. ğŸš€ é˜…è¯» `DEPLOY.md` äº†è§£å¦‚ä½•éƒ¨ç½²
4. ğŸ¨ æ ¹æ®éœ€æ±‚è‡ªå®šä¹‰é…ç½®å’Œæ ·å¼

## ğŸ’¡ æç¤º

- **æœ¬åœ°æµ‹è¯•**: ä¸»è¦æµ‹è¯• UI å’Œ API é€»è¾‘
- **Vercel æµ‹è¯•**: æµ‹è¯•å®Œæ•´åŠŸèƒ½ï¼ˆå«å­˜å‚¨ï¼‰
- **ç”Ÿäº§éƒ¨ç½²**: æŒ‰ DEPLOY.md æ­¥éª¤æ“ä½œ

ç¥å¼€å‘é¡ºåˆ©ï¼ğŸ‰

æœ‰é—®é¢˜éšæ—¶æŸ¥çœ‹æ–‡æ¡£æˆ–æ Issueã€‚
